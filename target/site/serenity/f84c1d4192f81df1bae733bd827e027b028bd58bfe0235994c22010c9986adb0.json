{"name":"Validacion tecnica del servicio de consulta","id":"consulta-de-datos-metereologicos-para-cualquier-ubicacion-en-la-tierra;validacion-tecnica-del-servicio-de-consulta","testSteps":[{"number":1,"description":"Given un usuario que desea consultar el clima","duration":2,"startTime":"2022-02-07T00:15:31.772-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"level":0},{"number":2,"description":"When el consulta los datos meteorologicos de la ciudad Bogota","duration":622,"startTime":"2022-02-07T00:15:31.774-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":3,"description":"Qa automation adl get weather data","duration":619,"startTime":"2022-02-07T00:15:31.776-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":4,"description":"Qa Automation Adl executes a GET on the resource /data/2.5/weather","duration":617,"startTime":"2022-02-07T00:15:31.778-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":5,"description":"GET http://api.openweathermap.org/data/2.5/weather?q\u003dBogota\u0026appid\u003df506c46c01c8e259c47ecf75d2f79dcb\u0026lang\u003dsp\u0026units\u0026lat\u0026lon\u0026zip","duration":0,"startTime":"2022-02-07T00:15:32.395-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"GET","path":"http://api.openweathermap.org/data/2.5/weather?q\u003dBogota\u0026appid\u003df506c46c01c8e259c47ecf75d2f79dcb\u0026lang\u003dsp\u0026units\u0026lat\u0026lon\u0026zip","content":"","contentType":"null","requestHeaders":"Accept\u003d*/*","requestCookies":"","responseHeaders":"Date: Mon, 07 Feb 2022 05:15:32 GMT\nServer: openresty\nX-Cache-Key: /data/2.5/weather?lang\u003dsp\u0026lat\u003d\u0026lon\u003d\u0026q\u003dbogota\u0026units\u003d\u0026zip\u003d\nContent-Type: application/json; charset\u003dutf-8\nProxy-Connection: Keep-Alive\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: GET, POST\nAccess-Control-Allow-Credentials: true\nContent-Encoding: gzip\nTransfer-Encoding: chunked\nVary: Accept-Encoding","responseCookies":"","responseBody":"{\n    \"coord\": {\n        \"lon\": -74.0817,\n        \"lat\": 4.6097\n    },\n    \"weather\": [\n        {\n            \"id\": 803,\n            \"main\": \"Clouds\",\n            \"description\": \"muy nuboso\",\n            \"icon\": \"04n\"\n        }\n    ],\n    \"base\": \"stations\",\n    \"main\": {\n        \"temp\": 285.88,\n        \"feels_like\": 285.66,\n        \"temp_min\": 285.88,\n        \"temp_max\": 285.88,\n        \"pressure\": 1027,\n        \"humidity\": 94\n    },\n    \"visibility\": 10000,\n    \"wind\": {\n        \"speed\": 1.54,\n        \"deg\": 330\n    },\n    \"clouds\": {\n        \"all\": 75\n    },\n    \"dt\": 1644210628,\n    \"sys\": {\n        \"type\": 1,\n        \"id\": 8582,\n        \"country\": \"CO\",\n        \"sunrise\": 1644232325,\n        \"sunset\": 1644275335\n    },\n    \"timezone\": -18000,\n    \"id\": 3688689,\n    \"name\": \"Bogota\",\n    \"cod\": 200\n}","statusCode":200},"precondition":false,"level":3}]}]}]},{"number":6,"description":"Then la validacion del jschema es satisfactoria","duration":451,"startTime":"2022-02-07T00:15:32.396-05:00[America/Bogota]","exception":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nResponse body doesn\u0027t match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (number) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/wind/properties/speed\"}\n    instance: {\"pointer\":\"/wind/speed\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"number\"\n    expected: [\"integer\"]\n\n  Actual: {\"coord\":{\"lon\":-74.0817,\"lat\":4.6097},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"muy nuboso\",\"icon\":\"04n\"}],\"base\":\"stations\",\"main\":{\"temp\":285.88,\"feels_like\":285.66,\"temp_min\":285.88,\"temp_max\":285.88,\"pressure\":1027,\"humidity\":94},\"visibility\":10000,\"wind\":{\"speed\":1.54,\"deg\":330},\"clouds\":{\"all\":75},\"dt\":1644210628,\"sys\":{\"type\":1,\"id\":8582,\"country\":\"CO\",\"sunrise\":1644232325,\"sunset\":1644275335},\"timezone\":-18000,\"id\":3688689,\"name\":\"Bogota\",\"cod\":200}\n","stackTrace":[{"declaringClass":"com.serenitybdd.danielbernate.adl.steps.GetWeatherDataStepDefinitions","methodName":"validy_jsonschema_ok","fileName":"GetWeatherDataStepDefinitions.java","lineNumber":73},{"declaringClass":"âœ½","methodName":"la validacion del jschema es satisfactoria","fileName":"file:///Users/daniel.bernate/Documents/will/rest-assured-starter/src/test/resources/features/clima/geteatherData.feature","lineNumber":80}]},"result":"FAILURE","precondition":false,"level":0,"children":[{"number":7,"description":"A valid response is returned","duration":441,"startTime":"2022-02-07T00:15:32.400-05:00[America/Bogota]","exception":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nResponse body doesn\u0027t match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (number) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/wind/properties/speed\"}\n    instance: {\"pointer\":\"/wind/speed\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"number\"\n    expected: [\"integer\"]\n\n  Actual: {\"coord\":{\"lon\":-74.0817,\"lat\":4.6097},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"muy nuboso\",\"icon\":\"04n\"}],\"base\":\"stations\",\"main\":{\"temp\":285.88,\"feels_like\":285.66,\"temp_min\":285.88,\"temp_max\":285.88,\"pressure\":1027,\"humidity\":94},\"visibility\":10000,\"wind\":{\"speed\":1.54,\"deg\":330},\"clouds\":{\"all\":75},\"dt\":1644210628,\"sys\":{\"type\":1,\"id\":8582,\"country\":\"CO\",\"sunrise\":1644232325,\"sunset\":1644275335},\"timezone\":-18000,\"id\":3688689,\"name\":\"Bogota\",\"cod\":200}\n","stackTrace":[{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":674},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"body","fileName":"ResponseSpecificationImpl.groovy","lineNumber":98},{"declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"body","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":238},{"declaringClass":"io.restassured.internal.ValidatableResponseImpl","methodName":"super$2$body","fileName":"ValidatableResponseImpl.groovy","lineNumber":-1},{"declaringClass":"groovy.lang.MetaMethod","methodName":"doMethodInvoke","fileName":"MetaMethod.java","lineNumber":323},{"declaringClass":"groovy.lang.MetaClassImpl","methodName":"invokeMethod","fileName":"MetaClassImpl.java","lineNumber":1267},{"declaringClass":"io.restassured.internal.ValidatableResponseImpl","methodName":"body","fileName":"ValidatableResponseImpl.groovy","lineNumber":293},{"declaringClass":"io.restassured.internal.ValidatableResponseImpl","methodName":"body","fileName":"ValidatableResponseImpl.groovy","lineNumber":-1},{"declaringClass":"com.serenitybdd.danielbernate.adl.steps.GetWeatherDataStepDefinitions","methodName":"lambda$validy_jsonschema_ok$0","fileName":"GetWeatherDataStepDefinitions.java","lineNumber":73},{"declaringClass":"com.serenitybdd.danielbernate.adl.steps.GetWeatherDataStepDefinitions","methodName":"validy_jsonschema_ok","fileName":"GetWeatherDataStepDefinitions.java","lineNumber":73},{"declaringClass":"io.cucumber.java.Invoker","methodName":"doInvoke","fileName":"Invoker.java","lineNumber":66},{"declaringClass":"io.cucumber.java.Invoker","methodName":"invoke","fileName":"Invoker.java","lineNumber":24},{"declaringClass":"io.cucumber.java.AbstractGlueDefinition","methodName":"invokeMethod","fileName":"AbstractGlueDefinition.java","lineNumber":47},{"declaringClass":"io.cucumber.java.JavaStepDefinition","methodName":"execute","fileName":"JavaStepDefinition.java","lineNumber":29},{"declaringClass":"io.cucumber.core.runner.CoreStepDefinition","methodName":"execute","fileName":"CoreStepDefinition.java","lineNumber":66},{"declaringClass":"io.cucumber.core.runner.PickleStepDefinitionMatch","methodName":"runStep","fileName":"PickleStepDefinitionMatch.java","lineNumber":63},{"declaringClass":"io.cucumber.core.runner.TestStep","methodName":"executeStep","fileName":"TestStep.java","lineNumber":92},{"declaringClass":"io.cucumber.core.runner.TestStep","methodName":"run","fileName":"TestStep.java","lineNumber":64},{"declaringClass":"io.cucumber.core.runner.PickleStepTestStep","methodName":"run","fileName":"PickleStepTestStep.java","lineNumber":51},{"declaringClass":"io.cucumber.core.runner.TestCase","methodName":"run","fileName":"TestCase.java","lineNumber":104},{"declaringClass":"io.cucumber.core.runner.Runner","methodName":"runPickle","fileName":"Runner.java","lineNumber":73},{"declaringClass":"io.cucumber.junit.FeatureRunner","methodName":"runChild","fileName":"FeatureRunner.java","lineNumber":135},{"declaringClass":"io.cucumber.junit.FeatureRunner","methodName":"runChild","fileName":"FeatureRunner.java","lineNumber":27},{"declaringClass":"io.cucumber.junit.CucumberSerenityRunner","methodName":"runChild","fileName":"CucumberSerenityRunner.java","lineNumber":258},{"declaringClass":"io.cucumber.junit.CucumberSerenityRunner","methodName":"runChild","fileName":"CucumberSerenityRunner.java","lineNumber":57}]},"result":"FAILURE","precondition":false,"level":1}]}],"userStory":{"id":"consulta-de-datos-metereologicos-para-cualquier-ubicacion-en-la-tierra","storyName":"consulta de datos metereologicos para cualquier ubicacion en la tierra","path":"clima/geteatherData.feature","type":"feature"},"featureTag":{"name":"Clima/consulta de datos metereologicos para cualquier ubicacion en la tierra","type":"feature","displayName":"Clima/consulta de datos metereologicos para cualquier ubicacion en la tierra"},"title":"Validacion tecnica del servicio de consulta","description":"","tags":[{"name":"Clima/consulta de datos metereologicos para cualquier ubicacion en la tierra","type":"feature","displayName":"consulta de datos metereologicos para cualquier ubicacion en la tierra"},{"name":"Clima","type":"capability","displayName":"Clima"}],"startTime":"2022-02-07T00:15:31.768-05:00[America/Bogota]","duration":1083,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nResponse body doesn\u0027t match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (number) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/wind/properties/speed\"}\n    instance: {\"pointer\":\"/wind/speed\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"number\"\n    expected: [\"integer\"]\n\n  Actual: {\"coord\":{\"lon\":-74.0817,\"lat\":4.6097},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"muy nuboso\",\"icon\":\"04n\"}],\"base\":\"stations\",\"main\":{\"temp\":285.88,\"feels_like\":285.66,\"temp_min\":285.88,\"temp_max\":285.88,\"pressure\":1027,\"humidity\":94},\"visibility\":10000,\"wind\":{\"speed\":1.54,\"deg\":330},\"clouds\":{\"all\":75},\"dt\":1644210628,\"sys\":{\"type\":1,\"id\":8582,\"country\":\"CO\",\"sunrise\":1644232325,\"sunset\":1644275335},\"timezone\":-18000,\"id\":3688689,\"name\":\"Bogota\",\"cod\":200}\n","stackTrace":[{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":674},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"body","fileName":"ResponseSpecificationImpl.groovy","lineNumber":98},{"declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"body","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":238},{"declaringClass":"io.restassured.internal.ValidatableResponseImpl","methodName":"super$2$body","fileName":"ValidatableResponseImpl.groovy","lineNumber":-1},{"declaringClass":"groovy.lang.MetaMethod","methodName":"doMethodInvoke","fileName":"MetaMethod.java","lineNumber":323},{"declaringClass":"groovy.lang.MetaClassImpl","methodName":"invokeMethod","fileName":"MetaClassImpl.java","lineNumber":1267},{"declaringClass":"io.restassured.internal.ValidatableResponseImpl","methodName":"body","fileName":"ValidatableResponseImpl.groovy","lineNumber":293},{"declaringClass":"io.restassured.internal.ValidatableResponseImpl","methodName":"body","fileName":"ValidatableResponseImpl.groovy","lineNumber":-1},{"declaringClass":"com.serenitybdd.danielbernate.adl.steps.GetWeatherDataStepDefinitions","methodName":"lambda$validy_jsonschema_ok$0","fileName":"GetWeatherDataStepDefinitions.java","lineNumber":73},{"declaringClass":"com.serenitybdd.danielbernate.adl.steps.GetWeatherDataStepDefinitions","methodName":"validy_jsonschema_ok","fileName":"GetWeatherDataStepDefinitions.java","lineNumber":73},{"declaringClass":"io.cucumber.java.Invoker","methodName":"doInvoke","fileName":"Invoker.java","lineNumber":66},{"declaringClass":"io.cucumber.java.Invoker","methodName":"invoke","fileName":"Invoker.java","lineNumber":24},{"declaringClass":"io.cucumber.java.AbstractGlueDefinition","methodName":"invokeMethod","fileName":"AbstractGlueDefinition.java","lineNumber":47},{"declaringClass":"io.cucumber.java.JavaStepDefinition","methodName":"execute","fileName":"JavaStepDefinition.java","lineNumber":29},{"declaringClass":"io.cucumber.core.runner.CoreStepDefinition","methodName":"execute","fileName":"CoreStepDefinition.java","lineNumber":66},{"declaringClass":"io.cucumber.core.runner.PickleStepDefinitionMatch","methodName":"runStep","fileName":"PickleStepDefinitionMatch.java","lineNumber":63},{"declaringClass":"io.cucumber.core.runner.TestStep","methodName":"executeStep","fileName":"TestStep.java","lineNumber":92},{"declaringClass":"io.cucumber.core.runner.TestStep","methodName":"run","fileName":"TestStep.java","lineNumber":64},{"declaringClass":"io.cucumber.core.runner.PickleStepTestStep","methodName":"run","fileName":"PickleStepTestStep.java","lineNumber":51},{"declaringClass":"io.cucumber.core.runner.TestCase","methodName":"run","fileName":"TestCase.java","lineNumber":104},{"declaringClass":"io.cucumber.core.runner.Runner","methodName":"runPickle","fileName":"Runner.java","lineNumber":73},{"declaringClass":"io.cucumber.junit.FeatureRunner","methodName":"runChild","fileName":"FeatureRunner.java","lineNumber":135},{"declaringClass":"io.cucumber.junit.FeatureRunner","methodName":"runChild","fileName":"FeatureRunner.java","lineNumber":27},{"declaringClass":"io.cucumber.junit.CucumberSerenityRunner","methodName":"runChild","fileName":"CucumberSerenityRunner.java","lineNumber":258},{"declaringClass":"io.cucumber.junit.CucumberSerenityRunner","methodName":"runChild","fileName":"CucumberSerenityRunner.java","lineNumber":57}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"1 expectation failed.\nResponse body doesn\u0027t match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (number) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/wind/properties/speed\"}\n    instance: {\"pointer\":\"/wind/speed\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"number\"\n    expected: [\"integer\"]\n\n  Actual: {\"coord\":{\"lon\":-74.0817,\"lat\":4.6097},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"muy nuboso\",\"icon\":\"04n\"}],\"base\":\"stations\",\"main\":{\"temp\":285.88,\"feels_like\":285.66,\"temp_min\":285.88,\"temp_max\":285.88,\"pressure\":1027,\"humidity\":94},\"visibility\":10000,\"wind\":{\"speed\":1.54,\"deg\":330},\"clouds\":{\"all\":75},\"dt\":1644210628,\"sys\":{\"type\":1,\"id\":8582,\"country\":\"CO\",\"sunrise\":1644232325,\"sunset\":1644275335},\"timezone\":-18000,\"id\":3688689,\"name\":\"Bogota\",\"cod\":200}\n","testFailureSummary":"FAILURE;java.lang.AssertionError;1 expectation failed.\nResponse body doesn\u0027t match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (number) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/wind/properties/speed\"}\n    instance: {\"pointer\":\"/wind/speed\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"number\"\n    expected: [\"integer\"]\n\n  Actual: {\"coord\":{\"lon\":-74.0817,\"lat\":4.6097},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"muy nuboso\",\"icon\":\"04n\"}],\"base\":\"stations\",\"main\":{\"temp\":285.88,\"feels_like\":285.66,\"temp_min\":285.88,\"temp_max\":285.88,\"pressure\":1027,\"humidity\":94},\"visibility\":10000,\"wind\":{\"speed\":1.54,\"deg\":330},\"clouds\":{\"all\":75},\"dt\":1644210628,\"sys\":{\"type\":1,\"id\":8582,\"country\":\"CO\",\"sunrise\":1644232325,\"sunset\":1644275335},\"timezone\":-18000,\"id\":3688689,\"name\":\"Bogota\",\"cod\":200}\n;ResponseSpecificationImpl.groovy","projectKey":"","annotatedResult":"FAILURE","isManualTestingUpToDate":false,"manual":false,"testSource":"Cucumber","actors":[{"name":"Qa Automation Adl","can":["call an API at http://api.openweathermap.org"]}],"result":"FAILURE"}